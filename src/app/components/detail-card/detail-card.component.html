<span class="jawBoneContent" [class.open]="isOpen">
  <span class="jawBoneOpenContainer">
    <div class="jawBoneFadeInPlaceContainer">
      <div class="jawBoneContainer slider-hover-trigger-layer">
        <div class="background" [class.dim]="tabState !== 'content'">
          <div class="jawBoneBackground image-rotator">
            <span>
              <div
                class="image-rotator-image "
                style=" z-index: 2; opacity: 1; transition-duration: 750ms;"
                [ngStyle]="{
                  'background-image':
                    'url(' + moviesDetail?.big_image_path + ')'
                }"
              ></div>
            </span>
          </div>
          <div class="vignette"></div>
          <div class="nav-shadow"></div>
        </div>
        <div class="jawBone">
          <h3>
            <a class="jawbone-title-link" href="/title/80232040"
              ><div
                class="title has-jawbone-nav-transition"
                [ngStyle]="{
                  transform: 'translateX(0px)',
                  opacity: 1,
                  'transition-delay': '250ms',
                  'transition-duration': '500ms'
                }"
              >
                <img
                  alt="{{ moviesDetail?.name}}"
                  class="logo"
                  [class.small-logo]="tabState !== 'content'"
                  src="{{ moviesDetail?.logo_image_path }}"
                /></div
            ></a>
          </h3>
          <div class="jawBoneCommon">
            <div class="jawBonePanes">
              <!-- 콘텐츠 정보 tab -->
              <div
                *ngIf="tabState === 'content'"
                class="jawBonePane"
                tabindex="-1"
                style="opacity: 1; transition-duration: 300ms;"
              >
                <div class="overview">
                  <div class="meta video-meta">
                    <span class="match-score-wrapper">
                      <div class="show-match-score rating-inner">
                        <div class="meta-thumb-container thumb-down">
                          <svg
                            class="svg-icon svg-icon-thumb-down-filled thumb thumb-down-filled"
                            focusable="true"
                          >
                            <use filter="" xlink:href="#thumb-down-filled">
                              <svg id="thumb-down-filled" viewBox="0 0 44 44">
                                <path
                                  fill="currentColor"
                                  d="M7.77409406,4.98611111 C7.77409406,2.87125897 9.75648409,2.16059507 11.3546646,2.02537973 L22.9699448,2 C32.3088898,2 31.8388589,4.98611111 39,5.58333333 L39,19.9166667 L33.926393,22.8376301 L27.7380974,34.0441616 C27.7380974,34.0441616 27.0322261,43.0253705 27.0322261,43.5197523 C27.0322261,43.5197523 21.4597021,46.233934 20.0783569,38.7573652 C18.6970116,31.2807964 19.655707,26.6668091 19.9160924,26.0006104 L7.78656274,25.9752306 C6.18838222,25.8400153 4.19352352,25.0176299 4.19352352,22.9027778 C4.19352352,20.7879256 6.17591354,20.0772617 7.77409406,19.9420464 L6.58057055,19.9166667 C4.98239002,19.7560716 3,19.0454077 3,16.9305556 C3,14.8157034 4.98239002,14.1050395 6.58057055,13.9698242 L8.96761758,13.9444444 C7.36943706,13.7838494 5.38704703,13.0731855 5.38704703,10.9583333 C5.38704703,8.84348119 7.36943706,8.13281729 8.96761758,7.99760195 L11.3546646,7.97222222 C9.75648409,7.81162716 7.77409406,7.10096325 7.77409406,4.98611111 Z"
                                ></path>
                              </svg>
                            </use>
                          </svg>
                        </div>
                        <div class="meta-thumb-container thumb-up">
                          <svg
                            class="svg-icon svg-icon-thumb-up-filled thumb thumb-up-filled"
                            focusable="true"
                          >
                            <use filter="" xlink:href="#thumb-up-filled">
                              <svg id="thumb-up-filled" viewBox="0 0 44 44">
                                <path
                                  fill="currentColor"
                                  d="M36.2259059,39.0138889 C36.2259059,41.128741 34.2435159,41.8394049 32.6453354,41.9746203 L21.0300552,42 C11.6911102,42 12.1611411,39.0138889 5,38.4166667 L5,24.0833333 L10.073607,21.1623699 L16.2619026,9.95583842 C16.2619026,9.95583842 16.9677739,0.974629541 16.9677739,0.480247712 C16.9677739,0.480247712 22.5402979,-2.23393403 23.9216431,5.2426348 C25.3029884,12.7192036 24.344293,17.3331909 24.0839076,17.9993896 L36.2134373,18.0247694 C37.8116178,18.1599847 39.8064765,18.9823701 39.8064765,21.0972222 C39.8064765,23.2120744 37.8240865,23.9227383 36.2259059,24.0579536 L37.4194295,24.0833333 C39.01761,24.2439284 41,24.9545923 41,27.0694444 C41,29.1842966 39.01761,29.8949605 37.4194295,30.0301758 L35.0323824,30.0555556 C36.6305629,30.2161506 38.612953,30.9268145 38.612953,33.0416667 C38.612953,35.1565188 36.6305629,35.8671827 35.0323824,36.002398 L32.6453354,36.0277778 C34.2435159,36.1883728 36.2259059,36.8990367 36.2259059,39.0138889 Z"
                                ></path>
                              </svg>
                            </use>
                          </svg>
                        </div>
                        <span class="match-score"
                          >{{ moviesDetail?.match_rate
                          }}{{ moviesDetail?.match_rate ? '% 일치' : '' }}</span
                        >
                      </div>
                    </span>
                    <span class="year">{{
                      moviesDetail?.production_date
                    }}</span>
                    <span class="maturity-rating "
                      ><span>
                        <!-- <span
                        class="svg-icon svg-icon-maturity-rating-KR-KMRB-95"
                        focusable="true"
                      > -->
                        <img
                          src="{{
                            (moviesDetail?.degree)['degree_image_path']
                          }}"
                          alt=""
                          class="svg-icon"
                        />

                        <!-- <use
                          filter=""
                          xlink:href="#maturity-rating-KR-KMRB-95"
                        ></use> -->
                        <!-- </span> -->
                      </span>
                    </span>
                    <span class="duration">{{
                      moviesDetail?.running_time
                    }}</span>
                  </div>
                  <div class="video-title"></div>
                  <div 
                    *ngIf="isContinue"
                    class="watched">
                    <div class="progress ">
                      <span class="progress-bar">
                        <span role="presentation" class="progress-completed"
                        [ngStyle]="{ width: (continue_time / running_time) * 100 + '%'}"
                        >
                        </span>
                      </span>
                      <span class="summary">
                        총 {{ running_time }}분 중 {{ continue_time}}분
                      </span>
                    </div>
                  </div>
                  <div class="synopsis">
                    {{ moviesDetail?.synopsis }}
                  </div>
                  <div class="jawbone-actions">
                    <a
                      *ngIf="moviesDetail"
                      trackid="253575043"
                      data-uia="play-button"
                      role="link"
                      aria-label="재생"
                      class="playLink"
                      [routerLink]="['/watch', moviesDetail?.id]"
                    >
                      <span
                        tabindex="-1"
                        class="nf-icon-button nf-flat-button nf-flat-button-primary nf-flat-button-uppercase"
                      >
                        <span
                          class="nf-flat-button-icon nf-flat-button-icon-play"
                        ></span>
                        <span class="nf-flat-button-text">재생</span>
                      </span></a
                    >

                    <a
                      tabindex="0"
                      class="nf-icon-button nf-flat-button nf-flat-button-uppercase"
                      aria-label="내가 찜한 콘텐츠에서 삭제"
                      role="link"
                      (click)="myList(moviesDetail)"
                    >
                      <span
                        class="nf-flat-button-icon"
                        *ngIf="moviesDetail"
                        [class.nf-flat-button-icon-mylist-add]="
                          !moviesDetail?.marked
                        "
                        [class.nf-flat-button-icon-mylist-added]="
                          moviesDetail?.marked
                        "
                      ></span>
                      <span class="nf-flat-button-text">내가 찜한 콘텐츠</span>
                    </a>
                    <span class="thumbs-container">
                      <div
                        class="thumbs-component thumbs thumbs-horizontal animated"
                        [class.unrated]="moviesDetail?.like === 0"
                        [class.rated]="
                          moviesDetail?.like === 1 || moviesDetail?.like === 2
                        "
                        [class.rated-up]="moviesDetail?.like === 1"
                        [class.rated-down]="moviesDetail?.like === 2"
                      >
                        <div
                          class="nf-svg-button-wrapper thumb-container thumb-up-container "
                        >
                          <a
                            *ngIf="moviesDetail"
                            role="link"
                            tabindex="0"
                            class="nf-svg-button simpleround"
                            aria-label="'좋아요'로 평가하기"
                            [class.clicked]="moviesDetail?.like === 1"
                            (click)="likeMovie(moviesDetail?.id)"
                          > 
                            <svg
                              *ngIf="moviesDetail.like === 0"
                              class="svg-icon"
                              [class.svg-icon-thumb-up]="
                                moviesDetail?.like === 0
                              "
                              [class.svg-icon-thumb-up-filled]="
                                moviesDetail?.like === 1
                              "
                              focusable="true"
                            >
                              <use filter="" xlink:href="#thumb-up">
                                <svg id="thumb-up" viewBox="0 0 44 44">
                                  <path
                                    fill="currentColor"
                                    d="M14.4914731,10.5133658 C14.5025232,10.3721258 14.5112703,10.2600368 14.5373244,9.92616603 C14.6065316,9.03836208 14.6757357,8.14414039 14.7403047,7.30077512 C14.7465683,7.21894322 14.7465683,7.21894322 14.752828,7.13707632 C14.9046548,5.15090242 15.0272627,3.45867565 15.0272627,3.40867664 L15.0272627,1.53263123 L16.7144227,0.711648736 C16.9560747,0.594059357 17.2924682,0.45883302 17.7131667,0.333356234 C19.0883517,-0.0768040048 20.5613519,-0.154799924 22.0533288,0.363315376 C24.5195179,1.21974305 26.1769774,3.46135556 26.8035959,6.84975024 C27.351817,9.81421638 27.5019717,12.9866944 27.3599098,16.0115829 L34.1297665,16.0259652 L34.2527202,16.036358 C37.3831944,16.3009647 40,18.0263548 40,21.50351 C40,22.0672808 39.9265137,22.5421505 39.8025926,23.0579114 C40.5520589,23.9178872 41,25.0573442 41,26.5026539 C41,28.4265345 40.1989133,29.8141446 38.9529692,30.7147706 C39,31.0829242 39,31.2285855 39,31.5017978 C39,33.4256784 38.1989133,34.8132885 36.9529692,35.7139145 C37,36.1120923 37,36.2277294 37,36.5009417 C37,39.978097 34.3831944,41.703487 31.2527202,41.9680938 L31.1299097,41.9784745 L31.0066614,41.9787481 L21.4308667,42 C17.3598399,42 15.3049785,41.5120961 12.3004159,40.2094732 C10.4281403,39.3976996 9.56555009,39.1413507 7.75086356,38.9901527 L5,38.7609533 L5,22.2682088 L9.98007986,19.4037917 L14.4914731,10.5133658 Z M23.8535989,7.39510873 C22.6962315,1.13672751 18.0272627,3.40867664 18.0272627,3.40867664 C18.0272627,3.82250684 17.4358448,11.340371 17.4358448,11.340371 L12.2509485,21.558043 L8,24.003082 L8,36.0010273 C14,36.5009417 13.6061821,39.0005137 21.4308667,39.0005137 L31,38.9792692 C32.339044,38.866085 34,38.2712124 34,36.5009417 C34,34.730671 32.339044,34.1357984 31,34.0013698 L33,33.9801253 C34.339044,33.8669411 36,33.2720686 36,31.5017978 C36,29.7315271 34.339044,29.1366545 33,29.0022259 L35,28.9809814 C36.339044,28.8677972 38,28.2729247 38,26.5026539 C38,24.7323832 36.339044,24.1375106 35,24.003082 L34,23.9818375 C35.339044,23.8686533 37,23.2737808 37,21.50351 C37,19.7332393 35.339044,19.1383668 34,19.0251826 L24.0526449,19.0040499 C24.2446335,18.1909366 24.845597,12.7592672 23.8535989,7.39510873 Z"
                                  ></path>
                                </svg>
                              </use>
                            </svg>
                            <img 
                              *ngIf="moviesDetail?.like === 1"
                              class="svg-icon svg-icon-thumb-up-filled"
                              src="https://user-images.githubusercontent.com/37561451/62601002-4f7f8400-b92b-11e9-83f8-f11a02c8f1f4.png" alt="">
                          </a>
                        </div>
                        <div
                          class="nf-svg-button-wrapper thumb-container thumb-down-container"
                        >
                          <a
                            *ngIf="moviesDetail"
                            role="link"
                            tabindex="0"
                            class="nf-svg-button simpleround"
                            aria-label="'별로예요'로 평가하기"
                            [class.clicked]="moviesDetail?.like === 2"
                            (click)="dislikeMovie(moviesDetail?.id)"
                          >
                            <svg
                              *ngIf="moviesDetail?.like === 0"
                              class="svg-icon svg-icon-thumb-down"
                              focusable="true"
                            >
                              <use filter="" xlink:href="#thumb-down">
                                <svg id="thumb-down" viewBox="0 0 44 44">
                                  <path
                                    fill="currentColor"
                                    d="M29.5085269,33.4866342 C29.4974768,33.6278742 29.4887297,33.7399632 29.4626756,34.073834 C29.3934684,34.9616379 29.3242643,35.8558596 29.2596953,36.6992249 C29.2534317,36.7810568 29.2534317,36.7810568 29.247172,36.8629237 C29.0953452,38.8490976 28.9727373,40.5413244 28.9727373,40.5913234 L28.9727373,42.4673688 L27.2855773,43.2883513 C27.0439253,43.4059406 26.7075318,43.541167 26.2868333,43.6666438 C24.9116483,44.076804 23.4386481,44.1547999 21.9466712,43.6366846 C19.4804821,42.780257 17.8230226,40.5386444 17.1964041,37.1502498 C16.648183,34.1857836 16.4980283,31.0133056 16.6400902,27.9884171 L9.87023353,27.9740348 L9.74727981,27.963642 C6.61680565,27.6990353 4,25.9736452 4,22.49649 C4,21.9327192 4.07348633,21.4578495 4.19740742,20.9420886 C3.44794109,20.0821128 3,18.9426558 3,17.4973461 C3,15.5734655 3.80108673,14.1858554 5.04703083,13.2852294 C5,12.9170758 5,12.7714145 5,12.4982022 C5,10.5743216 5.80108673,9.18671152 7.04703083,8.28608555 C7,7.88790771 7,7.77227059 7,7.49905828 C7,4.02190301 9.61680565,2.29651296 12.7472798,2.03190622 L12.8700903,2.02152553 L12.9933386,2.0212519 L22.5691333,2 C26.6401601,2 28.6950215,2.48790389 31.6995841,3.79052685 C33.5718597,4.60230044 34.4344499,4.8586493 36.2491364,5.00984729 L39,5.23904667 L39,21.7317912 L34.0199201,24.5962083 L29.5085269,33.4866342 Z M20.1464011,36.6048913 C21.3037685,42.8632725 25.9727373,40.5913234 25.9727373,40.5913234 C25.9727373,40.1774932 26.5641552,32.659629 26.5641552,32.659629 L31.7490515,22.441957 L36,19.996918 L36,7.99897267 C30,7.49905828 30.3938179,4.99948634 22.5691333,4.99948634 L13,5.02073084 C11.660956,5.133915 10,5.72878756 10,7.49905828 C10,9.26932901 11.660956,9.86420157 13,9.99863023 L11,10.0198747 C9.66095598,10.1330589 8,10.7279314 8,12.4982022 C8,14.2684729 9.66095598,14.8633455 11,14.9977741 L9,15.0190186 C7.66095598,15.1322028 6,15.7270753 6,17.4973461 C6,19.2676168 7.66095598,19.8624894 9,19.996918 L10,20.0181625 C8.66095598,20.1313467 7,20.7262192 7,22.49649 C7,24.2667607 8.66095598,24.8616332 10,24.9748174 L19.9473551,24.9959501 C19.7553665,25.8090634 19.154403,31.2407328 20.1464011,36.6048913 Z"
                                  ></path>
                                </svg>
                              </use>
                            </svg>
                            <img 
                              *ngIf="moviesDetail?.like === 2"
                              class="svg-icon svg-icon-thumb-down-filled"
                              src="https://user-images.githubusercontent.com/37561451/62601003-50b0b100-b92b-11e9-9edb-cfab651d6005.png" alt="">
                          </a>
                        </div>
                      </div>
                    </span>
                  </div>
                  <div class="meta-lists">
                    <p class="cast inline-list" label="주연:">
                      <span class="list-label">주연:</span>
                      <span class="list-items">
                        <span
                          *ngFor="
                            let actor of moviesDetail?.actors;
                            index as moviesIdx
                          "
                        >
                          {{ actor.name
                          }}{{
                            moviesIdx === moviesDetail?.actors.length - 1
                              ? ''
                              : ','
                          }}
                        </span>
                      </span>
                    </p>
                    <p class="genres inline-list" label="장르:">
                      <span class="list-label">장르:</span>
                      <span class="list-items">
                        <span
                          *ngFor="
                            let genre of moviesDetail?.genre;
                            index as genreIdx
                          "
                        >
                          {{ genre.name
                          }}{{
                            genreIdx === moviesDetail?.genre.length - 1
                              ? ''
                              : ','
                          }}
                        </span>
                      </span>
                    </p>
                    <p class="tags inline-list" label="영화 특징:">
                      <span class="list-label">영화 특징:</span>
                      <span class="list-items">
                        <span
                          *ngFor="
                            let feature of moviesDetail?.feature;
                            index as featureIdx
                          "
                        >
                          {{ feature.name
                          }}{{
                            featureIdx === moviesDetail?.feature.length - 1
                              ? ''
                              : ','
                          }}
                        </span>
                      </span>
                    </p>
                  </div>
                </div>
                <div class="jaw-play-hitzone" role="presentation"></div>
              </div>
              <!-- 비슷한 콘텐츠 tab -->
              <div
                *ngIf="tabState === 'similar'"
                class="jawBonePane"
                tabindex="-1"
                style="opacity: 1; transition-duration: 300ms;"
              >
                <div class="ptrack-container">
                  <div class="simsWrapper">
                    <div class="ptrack-content">
                      <app-detail-slider
                        [similarContent]="moviesDetail?.similar_movies"
                      >
                      </app-detail-slider>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 상세 정보 tab -->
              <div
                *ngIf="tabState === 'detail'"
                class="jawBonePane"
                tabindex="-1"
                style="opacity: 1; transition-duration: 300ms;"
              >
                <div class="simpleSlider slider jawBoneDetails">
                  <div class="handle handlePrev">
                    <b class="indicator-icon icon-leftCaret"></b>
                  </div>
                  <div class="handle handleNext">
                    <b class="indicator-icon icon-rightCaret"></b>
                  </div>
                  <div class="sliderMask">
                    <div class="sliderContent">
                      <span>
                        <div class="detailsItem detailsMedia">
                          <ul>
                            <li
                              *ngIf="moviesDetail?.directors !== []"
                              class="listLabel"
                            >
                              <span>감독</span>
                            </li>
                            <li
                              *ngFor="let director of moviesDetail?.directors"
                            >
                              <a *ngIf="moviesDetail">{{ director?.name }}</a>
                            </li>
                            <li
                              *ngIf="moviesDetail?.actors !== []"
                              class="listLabel"
                            >
                              <span>출연</span>
                            </li>
                            <li *ngFor="let actor of moviesDetail?.actors">
                              <a>{{ actor?.name }}</a>
                            </li>
                          </ul>
                        </div>
                        <div
                          *ngIf="moviesDetail?.author !== []"
                          class="detailsItem detailsMedia"
                        >
                          <ul>
                            <li
                              *ngIf="moviesDetail?.author !== []"
                              class="listLabel"
                            >
                              <span>각본</span>
                            </li>
                            <li *ngFor="let author of moviesDetail?.author">
                              <a>{{ author?.name }}</a>
                            </li>
                          </ul>
                        </div>
                      </span>
                      <div class="detailsItem detailsTags">
                        <div>
                          <h4
                            *ngIf="moviesDetail?.genre !== []"
                            class="listLabel"
                          >
                            장르
                          </h4>
                          <ul>
                            <li *ngFor="let genre of moviesDetail?.genre">
                              <a>{{ genre?.name }}</a>
                            </li>
                          </ul>
                          <h4
                            *ngIf="moviesDetail?.feature !== []"
                            class="listLabel"
                          >
                            영화 특징
                          </h4>
                          <ul>
                            <li *ngFor="let feature of moviesDetail?.feature">
                              <a>{{ feature?.name }}</a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      <div class="detailsItem detailsMaturity">
                        <h4 class="listLabel">관람등급</h4>
                        <div>
                          <div class="maturity-rating inline-rating">
                            <a>
                              <span class="maturity-rating ">
                                <span>
                                  <img
                                    *ngIf="moviesDetail"
                                    [src]="
                                      moviesDetail?.degree
                                        ? (moviesDetail?.degree)[
                                            'degree_image_path'
                                          ]
                                        : ''
                                    "
                                    alt="{{
                                      moviesDetail?.degree
                                        ? (moviesDetail?.degree)['name']
                                        : ''
                                    }}"
                                  />
                                </span>
                              </span>
                            </a>
                            <span
                              *ngIf="moviesDetail"
                              class="maturityDescription"
                              >{{
                                moviesDetail?.degree
                                  ? (moviesDetail?.degree)['name']
                                  : ''
                              }}</span
                            >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <ul class="menu" role="tablist">
            <li
              class="Overview"
              id="tab-Overview"
              [class.current]="tabState === 'content'"
            >
              <a role="link" tabindex="0" (click)="tabState = 'content'"
                >콘텐츠 정보</a
              ><span></span>
            </li>
            <li
              class="MoreLikeThis"
              id="tab-MoreLikeThis"
              [class.current]="tabState === 'similar'"
            >
              <a role="link" tabindex="0" (click)="tabState = 'similar'"
                >비슷한 콘텐츠</a
              ><span></span>
            </li>
            <li
              class="ShowDetails"
              id="tab-ShowDetails"
              [class.current]="tabState === 'detail'"
            >
              <a role="link" tabindex="0" (click)="tabState = 'detail'"
                >상세 정보</a
              ><span></span>
            </li>
          </ul>
        </div>
        <button
          class="close-button icon-close"
          tabindex="0"
          aria-label="Close"
          (click)="detailClosed()"
        ></button>
      </div>
    </div>
  </span>
</span>
