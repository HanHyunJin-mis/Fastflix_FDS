<div class="slider" (mouseover)="tabShow = true" (mouseleave)="tabShow = false">
  <!-- 슬라이드 이전 이동 버튼 -->
  <ng-template [ngIf]="default && moviesLength > 6">
    <span
      (click)="prev()"
      class="handle handlePrev active"
      tabindex="0"
      role="button"
      aria-label="이전 콘텐츠 보기"
    >
      <b class="indicator-icon icon-leftCaret"></b>
    </span>
  </ng-template>
  <ng-template [ngIf]="tabShow">
    <ul class="pagination-indicator">
      <li [class.active]="sliderState === tab" *ngFor="let tab of tab"></li>
    </ul>
  </ng-template>
  <div
    class="slider-container"
    [style.transform]="transform"
    [style.transition]="transition"
  >
    <div class="sliderMask showPeek">
      <div class="sliderContent row-with-x-columns">
        <!-- card -->
        <div
          *ngFor="let movie of originalMovies"
          class="slider-item slider-item-{{ movie.order }} show-number-{{
            showNumber(movie.order)
          }}"
          [class.toRight]="
            !isOpen &&
            cardMove &&
            hoverCard === 1 &&
            showNumber(movie.order) > hoverCard
          "
          [class.toRightSide]="
            !isOpen &&
            cardMove &&
            hoverCard !== 1 &&
            hoverCard !== 6 &&
            showNumber(movie.order) > hoverCard
          "
          [class.toLeftSide]="
            !isOpen &&
            cardMove &&
            hoverCard !== 6 &&
            hoverCard !== 1 &&
            showNumber(movie.order) < hoverCard
          "
          [class.toLeft]="
            !isOpen &&
            cardMove &&
            hoverCard === 6 &&
            showNumber(movie.order) !== 0 &&
            showNumber(movie.order) < hoverCard
          "
          [class.toDefault]="!cardMove"
        >
          <div class="title-card-container">
            <div
              id="title-card-2-{{ movie.order }}"
              class="slider-refocus title-card"
              (mouseenter)="hoverTimeout(movie.order, movie.id)"
              (mouseleave)="hoverTimeoutClear()"
            >
              <a role="link" tabindex="0" class="slider-refocus">
                <div class="boxart-size-16x9 boxart-container">
                  <img
                    class="boxart-image boxart-image-in-padded-container"
                    src="{{ movie.url }}"
                    alt="{{ movie.title }}"
                  />
                </div>
              </a>
              <!-- original card 시작 -->
              <div class="boxart-size-1x2 boxart-tall-panel boxart-container">
                <img
                  class="boxart-image-tall boxart-image-in-padded-container"
                  src="{{ movie.tallUrl }}"
                  alt=""
                />
                <div class="fallback-text-container" aria-hidden="true">
                  <div class="fallback-text">
                    내가 사랑했던 모든 남자들에게
                  </div>
                </div>
              </div>
              <!-- original card 끝 -->

              <!-- hover > 아래 버튼 클릭 시 card 테두리, 재생 버튼 -->
              <div
                class="title-card-jawbone-focus"
                [ngStyle]="{
                  opacity:
                    isOpen && hoverCard === showNumber(movie.order) ? 1 : 0,
                  'transition-duration.ms':
                    isOpen && hoverCard === showNumber(movie.order) ? 300 : 0
                }"
              >
                <div class="title-card-focus-ring"></div>
                <a role="link" class="title-card-play playLink">
                  <div class="playRing">
                    <div class="play icon-play"></div>
                  </div>
                </a>
              </div>
              <!-- hover시 확대 span의 내용이 나타났다 사라졌다 함-->

              <!-- hover시 확대 끝 -->
            </div>
            <div *ngIf="isContinue" class="progress ">
              <span class="progress-bar"
                ><span
                  role="presentation"
                  class="progress-completed"
                  [ngStyle]="{ width: movie?.continue / 20 + '%' }"
                ></span
              ></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="contain">
    <!-- 슬라이드 다음 이동 버튼 -->
    <ng-template [ngIf]="moviesLength > 6">
      <span
        (click)="next()"
        class="handle handleNext active"
        tabindex="0"
        role="button"
        aria-label="콘텐츠 더 보기"
      >
        <b class="indicator-icon icon-rightCaret"></b>
      </span>
    </ng-template>
  </div>
</div>
<app-detail-card
  [isOpen]="isOpen"
  (detailClose)="detailClosed()"
></app-detail-card>
